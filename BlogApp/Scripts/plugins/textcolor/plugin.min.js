tinymce.PluginManager.add("textcolor",function(n){function o(t){var i;return n.dom.getParents(n.selection.getStart(),function(n){var r;(r=n.style[t=="forecolor"?"color":"background-color"])&&(i=r)}),i}function s(){for(var r=[],i=n.settings.textcolor_map||["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FFFFFF","White","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum"],t=0;t<i.length;t+=2)r.push({text:i[t+1],color:"#"+i[t]});return r}function r(){function a(n,t){var i=n=="transparent";return'<td class="mce-grid-cell'+(i?" mce-colorbtn-trans":"")+'"><div id="'+c+"-"+y+++'" data-mce-color="'+(n?n:"")+'" role="option" tabIndex="-1" style="'+(n?"background-color: "+n:"")+'" title="'+tinymce.translate(t)+'">'+(i?"&#215;":"")+"<\/div><\/td>"}var v=this,f,o,r,l,u,e,h,c=v._id,y=0;for(f=s(),f.push({text:tinymce.translate("No color"),color:"transparent"}),r='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',l=f.length-1,e=0;e<i;e++){for(r+="<tr>",u=0;u<t;u++)h=e*t+u,h>l?r+="<td><\/td>":(o=f[h],r+=a(o.color,o.text));r+="<\/tr>"}if(n.settings.color_picker_callback){for(r+='<tr><td colspan="'+t+'" class="mce-custom-color-btn"><div id="'+c+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+c+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+tinymce.translate("Custom...")+"<\/button><\/div><\/td><\/tr>",r+="<tr>",u=0;u<t;u++)r+=a("","Custom color");r+="<\/tr>"}return r+"<\/tbody><\/table>"}function u(t,i){n.focus();n.formatter.apply(t,{value:i});n.nodeChanged()}function h(t){n.focus();n.formatter.remove(t,{value:null},null,!0);n.nodeChanged()}function f(i){function e(n){r.hidePanel();r.color(n);u(r.settings.format,n)}function s(n,t){n.style.background=t;n.setAttribute("data-mce-color",t)}var r=this.parent(),f;if(tinymce.DOM.getParent(i.target,".mce-custom-color-btn")&&(r.hidePanel(),n.settings.color_picker_callback.call(n,function(n){for(var o=r.panel.getEl().getElementsByTagName("table")[0],f,u=tinymce.map(o.rows[o.rows.length-1].childNodes,function(n){return n.firstChild}),i=0;i<u.length;i++)if(f=u[i],!f.getAttribute("data-mce-color"))break;if(i==t)for(i=0;i<t-1;i++)s(u[i],u[i+1].getAttribute("data-mce-color"));s(f,n);e(n)},o(r.settings.format))),f=i.target.getAttribute("data-mce-color"),f){if(this.lastId&&document.getElementById(this.lastId).setAttribute("aria-selected",!1),i.target.setAttribute("aria-selected",!0),this.lastId=i.target.id,f=="transparent"){h(r.settings.format);r.hidePanel();return}e(f)}else f!==null&&r.hidePanel()}function e(){var n=this;n._color&&u(n.settings.format,n._color)}var t,i;i=n.settings.textcolor_rows||5;t=n.settings.textcolor_cols||8;n.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{role:"application",ariaRemember:!0,html:r,onclick:f},onclick:e});n.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{role:"application",ariaRemember:!0,html:r,onclick:f},onclick:e})});
/*
//# sourceMappingURL=plugin.min.js.map
*/
tinymce.PluginManager.add("autolink",function(n){function r(n){t(n,-1,"(",!0)}function u(n){t(n,0,"",!0)}function f(n){t(n,-1,"",!1)}function t(n,t,i){function p(n,t){if(t<0&&(t=0),n.nodeType==3){var i=n.data.length;t>i&&(t=i)}return t}function h(n,t){u.setStart(n,p(n,t))}function s(n,t){u.setEnd(n,p(n,t))}var u,f,c,r,y,l,e,o,v,a;if(u=n.selection.getRng(!0).cloneRange(),u.startOffset<5){if(o=u.endContainer.previousSibling,!o){if(!u.endContainer.firstChild||!u.endContainer.firstChild.nextSibling)return;o=u.endContainer.firstChild.nextSibling}if(v=o.length,h(o,v),s(o,v),u.endOffset<5)return;f=u.endOffset;r=o}else{if(r=u.endContainer,r.nodeType!=3&&r.firstChild){while(r.nodeType!=3&&r.firstChild)r=r.firstChild;r.nodeType==3&&(h(r,0),s(r,r.nodeValue.length))}f=u.endOffset==1?2:u.endOffset-1-t}c=f;do h(r,f>=2?f-2:0),s(r,f>=1?f-1:0),f-=1,a=u.toString();while(a!=" "&&a!==""&&a.charCodeAt(0)!=160&&f-2>=0&&a!=i);u.toString()==i||u.toString().charCodeAt(0)==160?(h(r,f),s(r,c),f+=1):u.startOffset===0?(h(r,0),s(r,c)):(h(r,f),s(r,c));l=u.toString();l.charAt(l.length-1)=="."&&s(r,c-1);l=u.toString();e=l.match(/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@)(.+)$/i);e&&(e[1]=="www."?e[1]="http://www.":/@$/.test(e[1])&&!/^mailto:/.test(e[1])&&(e[1]="mailto:"+e[1]),y=n.selection.getBookmark(),n.selection.setRng(u),n.execCommand("createlink",!1,e[1]+e[2]),n.selection.moveToBookmark(y),n.nodeChanged())}var i;n.on("keydown",function(t){if(t.keyCode==13)return f(n)});if(tinymce.Env.ie){n.on("focus",function(){if(!i){i=!0;try{n.execCommand("AutoUrlDetect",!1,!0)}catch(t){}}});return}n.on("keypress",function(t){if(t.keyCode==41)return r(n)});n.on("keyup",function(t){if(t.keyCode==32)return u(n)})});
/*
//# sourceMappingURL=plugin.min.js.map
*/